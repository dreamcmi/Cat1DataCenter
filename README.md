# Cat1DataCenter

### 介绍
Cat1DataCenter 
Cat1数据中心项目

希望大家多给提意见，第一次做全方案的软硬设计，技术经验不足。

本仓库在Gitee、GitHub、Gitlab都有发布，仓库名都为Cat1DataCenter ，希望大家点点小星星start支持作者。

### 项目进度

#### 2020.2.22

1、预览图片出来了（show文件夹里）

这稿只是匆匆赶出来的，等打完版测试好软件就重新进行走线设计

2、Ver2.0.0是本次发布的版本，另名为demo版（Ver1.0版本走线出现了失误，就直接放弃了）

3、RS485和GPS本次没有加入，原因就是板子没地方放了，板子大小设计为8.55cm*5.4cm（大概是信用卡的大小），后期如果能扩大板子就会加入其它功能。

4、板子外部接口留有IIC、SPI、HOST-UART、W_U0、W_U1

5、最终选择了Air724UG模组，原因是Air722UG模组虽然小，但是走线难度和焊接难度都大，综合考虑还是选了724模组。

6、希望大家多给提意见，第一次做全方案的软硬设计，技术经验不足。

#### 2020.2.20

1、发布第一版Ver2.0.0 pdf原理图，欢迎大家提意见

2、综合考虑后，更改串口使用

| 串口  | 功能  |
| ----- | ----- |
| uart1 | Lora  |
| uart2 | RS485 |
| uart3 | GPS   |

3、模组使用

| 模组      | 功能     | 公司                     |
| --------- | -------- | ------------------------ |
| Air724UG  | 4G通讯   | 上海合宙通信科技有限公司 |
| ATGM336H  | GPS      | 杭州中科微电子有限公司   |
| M-HL10    | Lora     | 南京仁珏智能科技有限公司 |
| HLK-7628N | WiFi/PHY | 深圳市海凌科电子有限公司 |

注：排名不分前后

4、kicad配套库后续放出

#### 2021.2.19

1、新增lora模组和RS485接口（暂定使用跳线切换两个功能）

2、更改uart2为log输出串口，不作为功能串口

3、立项分支开发

（1）开源的lora模组，使用mcu与sx1268集成，并提供外部接口

（2）NB-IoT DTU项目立项，后续开始开发，同样分软件层和硬件层

#### 2021.2.10

1、发现问题：USB的D+和D-画反了（没认真检查）

2、正式开始Ver1.1硬件设计

（1）设置新主芯片为Air722

（2）根据实际功耗测试，暂时降3.3v LDO更改为AMS1117

（3）板子外形保持原有大小

（4）更改网口位置，增大走线空间并缩短usb走线

（5）4G模块部分考虑增加lora支持

（6）修复网口灯状态错误（问题根源还在寻找）

3、修复软件层bug

（1）已知rst导致cpu掉电后不能正常上电重启

（2）预计加入统计功能

（3）预计加入功能介绍界面



#### 2021.2.9

1、软件构建已完成，自动识别网卡

2、硬件Ver1.0测试完成

已知问题：

（1）TF卡方向错误

（2）网络状态指示灯有几率出现卡住，推测走线问题导致

（3）无法挂载网卡，推测和差分线过长有关系。

3、下一版目标

（1）更换air724为air722，缩小体积，加大走线空间

（2）更改tf卡位置

（3）设置usb开关（待验证可行性）

（4）考虑air820设计（待验证）

（5）考虑增加Lora支持（就当flag了）

### 参与贡献

1.  Fork 本仓库
2.  新建 Feat_xxx 分支
3.  提交代码
4.  新建 Pull Request
